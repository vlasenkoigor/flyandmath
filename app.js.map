{"version":3,"sources":["webpack:///webpack/bootstrap 9c1a541dfb6f83887460","webpack:///./js/api/api.js","webpack:///./js/states/Boot.js","webpack:///./js/states/Intro.js","webpack:///./js/states/Leaders.js","webpack:///./js/states/Menu.js","webpack:///./js/states/Play.js","webpack:///./js/states/Preloader.js","webpack:///./js/ExpresionGenerator.js","webpack:///./js/PipeEmitter.js","webpack:///./js/Player.js","webpack:///./js/app.js","webpack:///./js/ui/ProgressBar.js"],"names":["Api","constructor","API_KEY","SECRET_KEY","App42","initialize","gameName","scoreBoardService","App42ScoreBoard","saveScore","userName","score","saveUserScore","success","object","error","console","log","getTopFive","getTopNRankers","game","JSON","parse","result","app42","response","games","scoreList","scores","getUserRank","getUserRanking","bootState","preload","load","image","create","scale","scaleMode","Phaser","ScaleManager","SHOW_ALL","pageAlignHorizontally","update","state","start","introState","json","tangram","logo","colors","tangramPoints","cache","getJSON","datalogo","group","add","x","y","i","length","poly","Polygon","shape","graphics","make","beginFill","drawPolygon","points","endFill","push","lastTween","forEach","t","rnd","integerInRange","alpha","frac","tween","to","Easing","Elastic","Out","sprite","set","logoTween","Exponential","In","onComplete","bind","time","events","Timer","SECOND","render","leadesState","scoreAPI","list","formatted","Array","e","name","value","player","drawList","mountainsMid1","tileSprite","height","getImage","width","h","w","popUp","fixedX","world","centerX","fixedY","centerY","cup","anchor","label","text","font","fill","stroke","strokeThickness","addChild","backButton","button","current","wasPlayer","p","playerObj","place","rank","menuState","clicked","clouds","mountainsMid2","playButton","audio","play","dude","leadesButton","tilePosition","playState","advancedTiming","slowMotion","window","started","expresionGenerator","ExpresionGenerator","worldSpeed","worldSpeedPrev","isGameOver","gravity","gameOver","Signal","newRecord","toNextCalacSpawn","between","slomoActive","calcActive","playerMock","tweenYoYo","yoyo","pipeGroup","builUI","slomoKey","input","keyboard","addKey","Keyboard","SPACEBAR","onDown","slowMoStart","onUp","slowMoStop","calc","calcCnt","slowMoBar","ProgressBar","scoreText","scoreTextPopUp","textPattern","bestScoreTextPopUp","restart","visible","tutorialText","align","bgSound","loopFull","jumpSound","winSound","loseSound","recordSound","destroy","stop","physics","startSystem","Physics","P2JS","physicsFrameRate","p2","frameRate","setImpactEvents","defaultContactMaterial","friction","setGlobalStiffness","setGlobalRelaxation","playerCollisionGroup","createCollisionGroup","solidCollisionGroup","quizCollisionGroup","achivementllisionGroup","updateBoundsCollisionGroup","worldMaterial","createMaterial","setWorldMaterial","playerCGroups","Player","body","collides","collideWorldBounds","onBeginContact","a","b","c","d","normalA","camera","follow","pipeEmitter","PipeEmitter","spawn","setPostBroadphaseCallback","checkVeg","type","q","verify","colledted","collectAnswer","wrongAnswer","collectCalc","collected","setText","kill","wrong","dispatch","showGameOverPopUp","top","getTop","bestScore","newRecordAnim","recordText","Linear","None","createRecordEmitter","emitter","makeParticles","minParticleSpeed","setTo","maxParticleSpeed","minParticleScale","maxParticleScale","alive","debug","fps","ready","loadComplete","Preloader","preloadBar","setPreloadSprite","spritesheet","atlas","onLoadComplete","generator","tick","max","getExp","options","option","simplePlus","first","second","simpleMinus","simpleMmultiply","simpleDiv","worldHeight","gap","right","PipeBox","QuizCloud","CalcAchive","Sprite","prefixes","polygons","rand","textureName","textureHeight","positions","phys","pipe","CGrroup","enable","static","velocity","speed","clearShapes","loadPolygon","setCollisionGroup","checkWorldBounds","o","onOutOfBounds","dead","highlited","textEl","Text","immovable","kinematic","mass","g","addChildAt","glowSprite","setAlpha","flow","tint","cGroup","startSped","acceleration","accelerationTotalTime","fixedRotation","setCircle","existing","allowSleep","moveUp","frameName","activePointer","duration","rotation","isDown","sleepMode","addEventListener","getJsonFromUrl","user","Game","CANVAS","query","location","search","substr","split","part","item","decodeURIComponent","Group","bg","bar","bar_length","setValue","val"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9c1a541dfb6f83887460","/**\r\n * Created by Ivlasenko on 2/19/2017.\r\n */\r\nclass Api{\r\n    constructor(){\r\n        const API_KEY = \"89633700275542faf694868d356721ae5d073f334843e68cdc72fa91986be532\",\r\n            SECRET_KEY = \"4611b1e5b7875d8a4f93dda329322d87bb8dcbccf2b565694b3610ef08dd980a\"\r\n        App42.initialize(API_KEY, SECRET_KEY);\r\n        this.gameName = \"fm\";\r\n        this.scoreBoardService = new App42ScoreBoard();\r\n    }\r\n\r\n\r\n    saveScore(userName, score){\r\n\r\n        this.scoreBoardService.saveUserScore(this.gameName,userName, score, {\r\n            success: function(object) {\r\n                // var game = JSON.parse(object);\r\n                // var result = game.app42.response.games.game;\r\n                // var scoreList = result.scores.score;\r\n            },\r\n            error: function(error) {\r\n                console.log(error);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    getTopFive(success, error){\r\n\r\n\r\n        this.scoreBoardService.getTopNRankers(this.gameName, 5, {\r\n            success: function(object) {\r\n                var game = JSON.parse(object);\r\n                var result = game.app42.response.games.game;\r\n                var scoreList = result.scores.score;\r\n                success(scoreList)\r\n                // if (scoreList instanceof Array) {\r\n                //     for (var i = 0; i < scoreList.length; i++) {\r\n                //         console.log(\"userName is : \" + scoreList[i].userName)\r\n                //         console.log(\"scoreId is : \" + scoreList[i].scoreId)\r\n                //         console.log(\"value is : \" + scoreList[i].value)\r\n                //     }\r\n                // } else {\r\n                //     console.log(\"userName is : \" + scoreList.userName)\r\n                //     console.log(\"scoreId is : \" + scoreList.scoreId)\r\n                //     console.log(\"value is : \" + scoreList.value)\r\n                // }\r\n            },\r\n            error: function(error) {\r\n                console.log(error);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    getUserRank(userName, success, error){\r\n\r\n\r\n        this.scoreBoardService.getUserRanking(this.gameName, userName, {\r\n            success : function (object) {\r\n                var game = JSON.parse(object);\r\n                var result = game.app42.response.games.game;\r\n\r\n                success(result)\r\n            },\r\n\r\n            error : function () {\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // delete(){\r\n    //     var userName = \"igor\";\r\n    //     var result ;\r\n    //     App42.initialize(\"316555fb6ba2d8d5bd8b22870fac958f71f60b52e7a963b8599d179417fdf11c\",\"cad6220c41aaa94116e3e357fe294c25b34d103e7f542c79bc5c36dd7099e8d5\");\r\n    //     var userService  = new App42User();\r\n    //     userService.deleteUser(userName,{\r\n    //         success: function(object)\r\n    //         {\r\n    //             var userObj = JSON.parse(object);\r\n    //             result = userObj.app42.response.users.user;\r\n    //             console.log(\"userName is \" + result.userName)\r\n    //         },\r\n    //         error: function(error) {\r\n    //         }\r\n    //     });\r\n    // }\r\n    //\r\n    //\r\n    // create(){\r\n    //     var gameName = \"fm\",\r\n    //         description = \"description\",\r\n    //         result ;\r\n    //     App42.initialize(\"89633700275542faf694868d356721ae5d073f334843e68cdc72fa91986be532\",\"4611b1e5b7875d8a4f93dda329322d87bb8dcbccf2b565694b3610ef08dd980a\");\r\n    //     var gameService  = new App42Game();\r\n    //     gameService.createGame(gameName,description,{\r\n    //         success: function(object) {\r\n    //             var game = JSON.parse(object);\r\n    //             result = game.app42.response.games.game;\r\n    //             console.log(\"gameName is \" + result.name)\r\n    //             console.log(\"gameDescription is \" + result.description)\r\n    //         },\r\n    //         error: function(error) {\r\n    //         }\r\n    //     });\r\n    // }\r\n}\r\n\r\n\r\nexport default Api;\n\n\n// WEBPACK FOOTER //\n// ./js/api/api.js","var bootState = {\r\n    preload: function() {\r\n        this.load.image('preloadbar', 'assets/phaser-game-progress-bar.png');\r\n    },\r\n    create: function(){\r\n        this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n        this.scale.pageAlignHorizontally = true;\r\n    },\r\n    update: function(){\r\n        this.state.start('preloader');\r\n    }\r\n}\r\n\r\nexport default bootState;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/states/Boot.js","/**\r\n * Created by Ivlasenko on 2/7/2017.\r\n */\r\nvar introState =\r\n{\r\n    preload : function() {\r\n        this.game.load.json('tangram', 'assets/tangram.json');\r\n        this.game.load.image('logo', 'assets/logo.png');\r\n    },\r\n    create : function() {\r\n\r\n        var tangram = [];\r\n        var logo;\r\n        var game = this.game;\r\n\r\n        var colors = [\r\n            0xf6921e,\r\n            0x005aa9,\r\n            0xd7172f,\r\n            0xb1d249,\r\n            0xf5d944,\r\n            0x8c2b85,\r\n            0x00bedf5\r\n        ];\r\n\r\n        var tangramPoints = game.cache.getJSON('tangram').datalogo;\r\n\r\n        var group = game.add.group();\r\n            group.x = 300;\r\n            group.y = 50;\r\n        for (var i = 0 ;i<tangramPoints.length; i++){\r\n            var poly = new Phaser.Polygon(tangramPoints[i].shape);\r\n            var graphics = game.make.graphics(0, 0);\r\n            group.add(graphics);\r\n            graphics.beginFill(colors[i]);\r\n            graphics.drawPolygon(poly.points);\r\n            graphics.endFill();\r\n            tangram.push(graphics);\r\n        }\r\n\r\n        var lastTween = null;\r\n        tangram.forEach(function (t) {\r\n            t.x += game.rnd.integerInRange(-1000,1000);\r\n            t.y += game.rnd.integerInRange(-1000,1000);\r\n            t.alpha =0; game.rnd.frac();\r\n            // t.scale.set(game.rnd.normal());\r\n            lastTween = game.add.tween(t).to({x:0, y :0, alpha : 1}, 2000,Phaser.Easing.Elastic.Out, true);\r\n        });\r\n\r\n        logo = game.make.sprite(0,0, \"logo\");\r\n        logo.scale.set(0.1);\r\n        logo.x = 40;\r\n        logo.y = 420;\r\n        group.add(logo);\r\n        logo.alpha = 0;\r\n        var logoTween = game.add.tween(logo).to({alpha  : 1}, 700,Phaser.Easing.Exponential.In, false);\r\n        lastTween.onComplete.add(function () {\r\n            logoTween.start();\r\n        }.bind(this));\r\n\r\n        logoTween.onComplete.add(function () {\r\n            this.time.events.add(Phaser.Timer.SECOND * 1, function () {\r\n                // this.camera.flash(0x000, 1000);\r\n                this.state.start('menu');\r\n            }, this);\r\n        }, this);\r\n\r\n        // this.camera.onFlashComplete.add(function () {\r\n        //     this.time.events.add(Phaser.Timer.SECOND * 0.4, function () {\r\n        //         this.camera.resetFX();\r\n        //     }, this);\r\n        // }, this)\r\n\r\n\r\n    },\r\n    render: function () {\r\n    }\r\n};\r\n\r\nexport default introState;\n\n\n// WEBPACK FOOTER //\n// ./js/states/Intro.js","/**\r\n * Created by Ivlasenko on 2/18/2017.\r\n */\r\n\r\nvar leadesState =\r\n{\r\n    create: function () {\r\n        this.game.add.sprite(0, 0, 'back');\r\n\r\n        this.game.scoreAPI.getTopFive((list)=>{\r\n            console.log(list);\r\n            let formatted = [];\r\n            if (list instanceof Array)\r\n            {\r\n                list.forEach((e)=>{\r\n                    formatted.push({name : e.userName, points : e.value, player : e.userName  === this.game.userName})\r\n                })\r\n            } else {\r\n                formatted.push({name : list.userName, points : list.value, player : list.userName  === this.game.userName})\r\n            }\r\n\r\n\r\n            this.drawList(formatted)\r\n        }, () => {\r\n            let list = [\r\n                {name : \"Leo Messi\", points : 100},\r\n                {name : \"Ben Bruce\", points : 50},\r\n                {name : \"Anton Goncharov\", points : 50},\r\n                {name : \"Donald Trump \", points : 50},\r\n                {name : \"Barak Obama\", points : 50},\r\n            ];\r\n        });\r\n\r\n\r\n        // let playerObj =  {name : \"Igor Vlasenko\", points : 20, player : true, place : 44};\r\n        // this.mountainsMid2 = this.game.add.tileSprite(0,\r\n        //     this.game.height - this.game.cache.getImage('mountains-mid2').height,\r\n        //     this.game.width,\r\n        //     this.game.cache.getImage('mountains-mid2').height,\r\n        //     'mountains-mid2'\r\n        // );\r\n\r\n        this.mountainsMid1 = this.game.add.tileSprite(0,\r\n            this.game.height - this.game.cache.getImage('mountains-mid1').height,\r\n            this.game.width,\r\n            this.game.cache.getImage('mountains-mid1').height,\r\n            'mountains-mid1'\r\n        );\r\n\r\n        let h = this.game.cache.getImage('popup').height\r\n        let w = this.game.cache.getImage('popup').width;\r\n        this.popUp = this.game.add.group();\r\n        this.popUp.fixedX = this.game.world.centerX - w/2;\r\n        this.popUp.fixedY = this.game.world.centerY - h/2;\r\n\r\n        this.popUp.x = this.popUp.fixedX;\r\n        this.popUp.y = this.popUp.fixedY;\r\n\r\n        this.popUp.create(0,0,'popup');\r\n\r\n        let cup = this.popUp.create(0,0,'cubok_pres');\r\n\r\n        cup.anchor.set(0.5);\r\n        cup.x = w/2;\r\n        cup.y = h/2 + 50;\r\n        cup.alpha = 0.5;\r\n\r\n        this.label = this.game.make.text(w/2, -20, 'Top 5 scorers' ,{\r\n            font : \"33px MyWebFont2\",\r\n            fill : \"#ffffff\",\r\n            stroke : \"#96929b\",\r\n            strokeThickness : 5\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n        this.label.anchor.set(0.5);\r\n\r\n        this.popUp.addChild(this.label);\r\n\r\n        this.backButton = this.game.add.button(this.popUp.fixedX + w/2, h + 170, 'back_press', ()=>{\r\n            this.state.start('menu');\r\n        }, this,);\r\n\r\n        this.backButton.anchor.set(0.5);\r\n\r\n\r\n    },\r\n\r\n    drawList(list){\r\n\r\n        \r\n        if (this.game.state.current !== 'leaders')\r\n        {\r\n            return;\r\n        }\r\n        let wasPlayer = false;\r\n        list.forEach(( p, i)=>{\r\n            wasPlayer = wasPlayer || p.player;\r\n            let text = `${i+1}. ${p.name} - ${p.points}`;\r\n            this.game.add.text(this.popUp.x + 20 , this.popUp.y + 100 + (i*35) , text ,{\r\n                font : \"20px MyWebFont2\",\r\n                fill : p.player ? \"#ed1c1c\" : \"#ffffff\",\r\n                stroke : \"#96929b\",\r\n                strokeThickness : 5\r\n            });\r\n        });\r\n\r\n\r\n        if (!wasPlayer){\r\n            this.game.scoreAPI.getUserRank(this.game.userName, (result) =>{\r\n                if (this.game.state.current !== 'leaders')\r\n                {\r\n                    return;\r\n                }\r\n                var score = result.scores.score;\r\n                let playerObj = {name : score.userName, points : score.value, place : score.rank};\r\n                let text = `...\\n${playerObj.place}. ${playerObj.name} - ${playerObj.points}`;\r\n                this.game.add.text(this.popUp.x + 20 , this.popUp.y + 100 + (5*35) -10 , text ,{\r\n                    font : \"15px MyWebFont2\",\r\n                    fill :  \"#000000\" ,\r\n                    stroke : \"#96929b\",\r\n                    strokeThickness : 5\r\n                });\r\n            },\r\n            ()=>{});\r\n\r\n        }\r\n\r\n    }\r\n};\r\nexport default leadesState;\n\n\n// WEBPACK FOOTER //\n// ./js/states/Leaders.js","/**\r\n * Created by Ivlasenko on 2/18/2017.\r\n */\r\n\r\nvar menuState =\r\n{\r\n    create: function () {\r\n        this.game.add.sprite(0, 0, 'back');\r\n\r\n        this.clicked = false;\r\n        this.clouds = this.game.add.tileSprite(0,\r\n            70,\r\n            this.game.width,\r\n            this.game.cache.getImage('clouds').height,\r\n            'clouds'\r\n        );\r\n\r\n        this.mountainsMid2 = this.game.add.tileSprite(0,\r\n            this.game.height - this.game.cache.getImage('mountains-mid2').height,\r\n            this.game.width,\r\n            this.game.cache.getImage('mountains-mid2').height,\r\n            'mountains-mid2'\r\n        );\r\n\r\n        this.mountainsMid1 = this.game.add.tileSprite(0,\r\n            this.game.height - this.game.cache.getImage('mountains-mid1').height,\r\n            this.game.width,\r\n            this.game.cache.getImage('mountains-mid1').height,\r\n            'mountains-mid1'\r\n        );\r\n\r\n        let h = this.game.cache.getImage('popup').height\r\n        let w = this.game.cache.getImage('popup').width;\r\n        this.popUp = this.game.add.group();\r\n        this.popUp.fixedX = this.game.world.centerX - w/2;\r\n        this.popUp.fixedY = this.game.world.centerY - h/2;\r\n        this.popUp.x = this.popUp.fixedX;\r\n        this.popUp.y = this.popUp.fixedY;\r\n\r\n\r\n        this.label = this.game.make.text(w/2, -20, 'Fly&Math' ,{\r\n            font : \"63px MyWebFont2\",\r\n            fill : \"#ffffff\",\r\n            stroke : \"#96929b\",\r\n            strokeThickness : 5\r\n        });\r\n\r\n        this.label.anchor.set(0.5);\r\n\r\n        this.popUp.addChild(this.label);\r\n\r\n             this.playButton = this.game.add.button(this.popUp.fixedX + 90, h + 130, 'play', ()=>{\r\n                 if (this.clicked) return;\r\n                 this.clicked = true;\r\n                 this.game.add.audio('fly').play();\r\n                 let t = this.game.add.tween(this.dude).to( { x : this.game.world.width + 200 }, 1500, Phaser.Easing.Elastic.In, true);\r\n                 t.onComplete.add(()=>{\r\n                     this.state.start('play');\r\n                 })\r\n\r\n        }, this,);\r\n\r\n        this.leadesButton = this.game.add.button(this.popUp.fixedX + w - 190, h + 130, 'cubok_pres', ()=>{\r\n            if (this.clicked) return;\r\n            this.clicked = true;\r\n            this.state.start('leaders');\r\n        }, this,);\r\n\r\n        this.dude = this.game.add.sprite(-100, this.game.world.centerY, \"loodscrin\");\r\n        this.dude.anchor.set(0.5);\r\n\r\n        this.game.add.audio('fly').play();\r\n        let t = this.game.add.tween(this.dude).to( { x : this.game.world.centerX }, 2000, Phaser.Easing.Elastic.Out, true);\r\n            t.onComplete.add(()=>{\r\n        })\r\n\r\n    },\r\n\r\n    update(){\r\n        this.clouds.tilePosition.x -= 0.7;\r\n    }\r\n};\r\nexport default menuState;\n\n\n// WEBPACK FOOTER //\n// ./js/states/Menu.js","import Player from \"./../Player.js\"\r\nimport PipeEmitter from \"./../PipeEmitter\";\r\nimport ExpresionGenerator from './../ExpresionGenerator';\r\nimport ProgressBar from './../ui/ProgressBar'\r\n\r\nvar playState = {\r\n    preload: function(){\r\n        this.time.advancedTiming = true;\r\n    },\r\n    create: function(){\r\n        this.game.time.slowMotion = 1;\r\n        window.game = this.game;\r\n\r\n        this.started = false;\r\n        this.game.expresionGenerator = new ExpresionGenerator(this.game.rnd);\r\n        this.game.worldSpeed = 1.5;\r\n        this.game.worldSpeedPrev = 2.5;\r\n        //  Enable p2 physics\r\n        this.game.isGameOver = false;\r\n        this.gravity = 1500;\r\n\r\n\r\n        this.game.gameOver = new Phaser.Signal();\r\n\r\n        this.score = 0;\r\n\r\n        this.newRecord = false;\r\n\r\n        this.game.toNextCalacSpawn = this.game.rnd.between(1, 2);\r\n        this.game.slomoActive = false;\r\n        this.game.calcActive = 0;\r\n\r\n\r\n        this.game.add.sprite(0,0,'back');\r\n\r\n\r\n        this.clouds = this.game.add.tileSprite(0,\r\n            70,\r\n            this.game.width,\r\n            this.game.cache.getImage('clouds').height,\r\n            'clouds'\r\n        );\r\n        this.mountainsMid2 = this.game.add.tileSprite(0,\r\n            this.game.height - this.game.cache.getImage('mountains-mid2').height,\r\n            this.game.width,\r\n            this.game.cache.getImage('mountains-mid2').height,\r\n            'mountains-mid2'\r\n        );\r\n\r\n        this.mountainsMid1 = this.game.add.tileSprite(0,\r\n            this.game.height - this.game.cache.getImage('mountains-mid1').height,\r\n            this.game.width,\r\n            this.game.cache.getImage('mountains-mid1').height,\r\n            'mountains-mid1'\r\n        );\r\n\r\n        this.playerMock = this.game.add.sprite(250, this.game.world.centerY-12,'player', 'mob_2.png');\r\n        this.playerMock.anchor.set(0.5);\r\n        this.playerMock.scale.set(0.75);\r\n        this.playerMock.tweenYoYo = this.game.add.tween(this.playerMock).to( { y: this.game.world.centerY+12 }, 400, \"Linear\", true, 0, -1);\r\n        this.playerMock.tweenYoYo.yoyo(true, 0);\r\n\r\n        this.game.pipeGroup = this.add.group();\r\n\r\n\r\n        // this.time.events.loop(Phaser.Timer.SECOND * 7 / this.game.worldSpeed, this.pipeEmitter.spawn, this.pipeEmitter);\r\n\r\n\r\n        this.builUI();\r\n\r\n        this.slomoKey = game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\r\n\r\n        this.game.input.onDown.add(()=>{\r\n            if (!this.started)\r\n            {\r\n                this.start();\r\n            }\r\n        });\r\n        this.slomoKey.onDown.add((p)=>{\r\n            if (!this.started)\r\n            {\r\n                this.start();\r\n\r\n            }\r\n            this.slowMoStart();\r\n        });\r\n\r\n\r\n        this.slomoKey.onUp.add((p)=>{\r\n            this.slowMoStop();\r\n        });\r\n\r\n        // this.newRecordAnim();\r\n    },\r\n\r\n    builUI(){\r\n        this.calc = this.game.add.sprite(80,70,'calcul');\r\n        this.calc.anchor.set(0.7);\r\n        this.calc.scale.set(0.7);\r\n        this.calcCnt = this.game.add.text(80,60,'x'+this.game.calcActive, {\r\n            font : \"30px MyWebFont2\",\r\n            fill : \"#ffffff\",\r\n            stroke : \"#96929b\",\r\n            strokeThickness : 2\r\n        });\r\n\r\n        this.slowMoBar = new ProgressBar(this.game);\r\n        this.slowMoBar.y = this.world.height - 70;\r\n        this.slowMoBar.x = 20;\r\n\r\n        this.scoreText = this.game.add.text(game.world.centerX, 40, ''+this.score ,{\r\n            font : \"50px MyWebFont2\",\r\n            fill : \"#ffffff\",\r\n            stroke : \"#96929b\",\r\n            strokeThickness : 5\r\n        });\r\n        this.scoreText.anchor.set(0.5);\r\n\r\n        //create win popup\r\n\r\n        let h = this.game.cache.getImage('popup').height\r\n        let w = this.game.cache.getImage('popup').width;\r\n        this.popUp = this.game.add.group();\r\n        this.popUp.fixedX = this.game.world.centerX - w/2;\r\n        this.popUp.fixedY = this.game.world.centerY - h/2;\r\n\r\n        this.popUp.x = this.popUp.fixedX;\r\n        this.popUp.y = this.popUp.fixedY;\r\n\r\n        this.popUp.create(0,0,'popup');\r\n\r\n        let cup = this.popUp.create(0,0,'cubok_pres');\r\n\r\n        cup.anchor.set(0.5);\r\n        cup.x = w/2;\r\n        cup.y = h/2 + 50;\r\n        cup.alpha = 0.5;\r\n\r\n        this.scoreTextPopUp = this.game.make.text(w/2, h/2, 'Your score : 1200' ,{\r\n            font : \"33px MyWebFont2\",\r\n            fill : \"#ffffff\",\r\n            stroke : \"#96929b\",\r\n            strokeThickness : 5\r\n        });\r\n        this.scoreTextPopUp.textPattern = 'Your score : ';\r\n\r\n        this.scoreTextPopUp.anchor.set(0.5);\r\n\r\n        this.bestScoreTextPopUp = this.game.make.text(w/2, h/2 + 70, 'Best score : 1200' ,{\r\n            font : \"33px MyWebFont2\",\r\n            fill : \"#ffffff\",\r\n            stroke : \"#96929b\",\r\n            strokeThickness : 5\r\n        });\r\n\r\n        this.bestScoreTextPopUp.textPattern = 'Best score : ';\r\n        this.bestScoreTextPopUp.anchor.set(0.5);\r\n\r\n        this.popUp.addChild(this.scoreTextPopUp);\r\n        this.popUp.addChild(this.bestScoreTextPopUp);\r\n\r\n        this.playButton = game.add.button(this.popUp.fixedX + 90, h + 130, 'play', ()=>{\r\n            this.state.restart(true);\r\n        }, this,);\r\n\r\n        this.leadesButton = game.add.button(this.popUp.fixedX + w - 190, h + 130, 'cubok_pres', ()=>{\r\n            this.state.start('leaders');\r\n        }, this,);\r\n\r\n        this.playButton.visible = false;\r\n        this.leadesButton.visible = false;\r\n\r\n\r\n        this.popUp.visible = false;\r\n\r\n        this.tutorialText = this.game.add.text(game.world.centerX, game.world.centerY + 100,\r\n            \"click to fly\\n hold spacebar for slowmo\\nuse your brain to think\" ,{\r\n            font : \"30px MyWebFont2\",\r\n            fill : \"#ffffff\",\r\n            stroke : \"#96929b\",\r\n            strokeThickness : 5,\r\n            align : 'center'\r\n        });\r\n\r\n        this.tutorialText.anchor.set(0.5);\r\n\r\n        this.game.bgSound = game.add.audio('bg');\r\n        this.game.bgSound.loopFull();\r\n        this.game.jumpSound = game.add.audio('jump');\r\n        this.game.winSound = game.add.audio('win');\r\n        this.game.loseSound = game.add.audio('lose');\r\n        this.game.recordSound = game.add.audio('record');\r\n    },\r\n\r\n\r\n    start(){\r\n        this.started = true;\r\n        this.slowMoBar.start();\r\n\r\n        this.tutorialText.destroy();\r\n        this.playerMock.tweenYoYo.stop();\r\n        this.playerMock.destroy();\r\n\r\n\r\n        this.physics.startSystem(Phaser.Physics.P2JS);\r\n\r\n        this.physicsFrameRate = this.physics.p2.frameRate;\r\n\r\n        this.game.physics.p2.setImpactEvents(true);\r\n\r\n\r\n        this.physics.p2.gravity.y = this.gravity ;\r\n        this.physics.p2.world.defaultContactMaterial.friction = 0;\r\n        this.physics.p2.world.setGlobalStiffness(1e9);\r\n        this.physics.p2.world.setGlobalRelaxation(1.9);\r\n\r\n\r\n        var playerCollisionGroup    = this.physics.p2.createCollisionGroup();\r\n        var solidCollisionGroup     = this.physics.p2.createCollisionGroup();\r\n        var quizCollisionGroup      = this.physics.p2.createCollisionGroup();\r\n        var achivementllisionGroup  = this.physics.p2.createCollisionGroup();\r\n\r\n        this.game.playerCollisionGroup = playerCollisionGroup;\r\n        this.game.solidCollisionGroup = solidCollisionGroup;\r\n        this.game.quizCollisionGroup = quizCollisionGroup;\r\n        this.game.achivementllisionGroup = achivementllisionGroup;\r\n\r\n        this.physics.p2.updateBoundsCollisionGroup();\r\n        var worldMaterial = this.game.physics.p2.createMaterial('worldMaterial');\r\n\r\n        //  4 trues = the 4 faces of the world in left, right, top, bottom order\r\n        this.game.physics.p2.setWorldMaterial(worldMaterial, true, true, true, true);\r\n        //\r\n\r\n        let playerCGroups = [solidCollisionGroup,quizCollisionGroup,achivementllisionGroup];\r\n        this.player = new Player(this.game, 250,this.game.world.centerY, playerCollisionGroup, playerCGroups);\r\n        this.player.body.collides([solidCollisionGroup], ()=>{this.gameOver(false)}, this);\r\n        this.player.body.collides([quizCollisionGroup]);\r\n        this.player.body.collides([achivementllisionGroup]);\r\n\r\n        this.player.body.collideWorldBounds = true;\r\n        this.player.body.onBeginContact.add((a,b,c,d,e)=>{\r\n            // console.log(b,e[0].normalA);\r\n            if (!a /*&& b == this.player.body*/ && e[0].normalA[0] === 0){\r\n                this.gameOver();\r\n            }\r\n\r\n        });\r\n        this.camera.follow(this.player);\r\n\r\n\r\n        this.pipeEmitter = new PipeEmitter(this.game, solidCollisionGroup,quizCollisionGroup);\r\n        this.pipeEmitter.spawn();\r\n\r\n\r\n\r\n        this.game.physics.p2.setPostBroadphaseCallback(checkVeg, this);\r\n\r\n        function checkVeg(a, b, c) {\r\n\r\n\r\n            if (a.sprite.type == \"quiz\" || b.sprite.type == \"quiz\")\r\n            {\r\n                let q = a.sprite.type == \"quiz\" ? a.sprite : b.sprite;\r\n\r\n                if (q.verify && !q.colledted)\r\n                {\r\n                    this.collectAnswer(q);\r\n                } else if (!q.verify){\r\n                    this.wrongAnswer();\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            if (a.sprite.type == \"calc\" || b.sprite.type == \"calc\")\r\n            {\r\n                let q = a.sprite.type == \"calc\" ? a.sprite : b.sprite;\r\n                this.collectCalc(q);\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n\r\n    },\r\n    collectAnswer(a){\r\n        this.game.winSound.play()\r\n        a.collected();\r\n        this.scoreText.setText(++this.score);\r\n    },\r\n\r\n    collectCalc(a){\r\n        a.kill();\r\n        this.game.calcActive+=3;\r\n    },\r\n\r\n    wrongAnswer(){\r\n\r\n        this.gameOver(true)\r\n    },\r\n\r\n    gameOver(wrong){\r\n        this.game.gameOver.dispatch({wrong : !!wrong});\r\n        this.game.worldSpeed = 0;\r\n        this.game.worldSpeedPrev = 0;\r\n        if (!this.game.isGameOver)\r\n        {\r\n            this.game.bgSound.stop();\r\n            this.saveScore();\r\n            this.game.time.events.add(Phaser.Timer.SECOND * 0.4, this.showGameOverPopUp, this);\r\n        }\r\n        this.game.isGameOver = true;\r\n    },\r\n\r\n    saveScore()\r\n    {\r\n        if (!this.score) return;\r\n        this.game.scoreAPI.saveScore(this.game.userName, this.score);\r\n    },\r\n\r\n\r\n\r\n    update: function(){\r\n        this.clouds.tilePosition.x -= 0.45 * this.game.worldSpeed;\r\n        this.mountainsMid1.tilePosition.x -= 0.65 * this.game.worldSpeed;\r\n        this.mountainsMid2.tilePosition.x -= 0.3 * this.game.worldSpeed;\r\n\r\n        let top = this.game.pipeGroup.getTop();\r\n\r\n        if (top && top.x && top.x < this.game.world.centerX)\r\n        {\r\n            this.pipeEmitter.spawn();\r\n        }\r\n\r\n        if (this.slowMoBar.value == 0 )\r\n        {\r\n            this.slowMoStop()\r\n        }\r\n\r\n        if (this.game.calcActive > 0)\r\n        {\r\n            this.calc.alpha = 1;\r\n        } else\r\n        {\r\n            this.calc.alpha = 0.3;\r\n        }\r\n\r\n        this.calcCnt.setText('x'+this.game.calcActive);\r\n    },\r\n\r\n    slowMoStart(){\r\n        if (this.game.isGameOver) return;\r\n\r\n      this.game.slomoActive = true;\r\n      // this.game.time.slowMotion = 2;\r\n      this.physics.p2.frameRate = this.physicsFrameRate/7;\r\n\r\n      this.game.worldSpeed /=5;\r\n    },\r\n\r\n    slowMoStop(){\r\n        this.game.slomoActive = false;\r\n        // this.game.time.slowMotion = 1;\r\n        this.physics.p2.frameRate = this.physicsFrameRate;\r\n        this.game.worldSpeed = this.game.worldSpeedPrev;\r\n    },\r\n\r\n\r\n    showGameOverPopUp(){\r\n        this.popUp.visible = true;\r\n        this.popUp.y = - this.game.cache.getImage('popup').height - 30;\r\n\r\n        this.scoreTextPopUp.setText(this.scoreTextPopUp.textPattern + this.score);\r\n        if (this.score > this.game.bestScore)\r\n        {\r\n            if (this.game.bestScore !== 0)\r\n            {\r\n                this.newRecord = true;\r\n            }\r\n\r\n            this.game.bestScore = this.score;\r\n        }\r\n        this.bestScoreTextPopUp.setText(this.bestScoreTextPopUp.textPattern + this.game.bestScore);\r\n\r\n        let t = this.game.add.tween(this.popUp).to( { y : this.popUp.fixedY }, 1000, Phaser.Easing.Elastic.Out, true);\r\n        t.onComplete.add(()=>{\r\n            if (this.newRecord)\r\n            {\r\n                this.newRecordAnim();\r\n            }\r\n\r\n            this.playButton.visible = true;\r\n            this.leadesButton.visible = true;\r\n        })\r\n    },\r\n\r\n\r\n    newRecordAnim(){\r\n        var recordText = this.game.add.text(game.world.centerX, game.world.height, 'new record!' ,{\r\n            font : \"50px MyWebFont2\",\r\n            fill : \"#ffffff\",\r\n            stroke : \"#96929b\",\r\n            strokeThickness : 5\r\n        });\r\n\r\n        let t = this.game.add.tween(recordText).to( { y : 200 }, 1000, Phaser.Easing.Linear.None, true);\r\n\r\n\r\n        this.createRecordEmitter(recordText);\r\n        recordText.anchor.set(0.5);\r\n    },\r\n\r\n    createRecordEmitter(t){\r\n        var emitter = game.add.emitter(game.world.centerX, game.world.height, 100);\r\n\r\n        this.game.recordSound.play();\r\n        emitter= emitter.makeParticles([\r\n            'pipe_center_1',\r\n            'pipe_center_2',\r\n            'pipe_center_3',\r\n            'pipe_center_4',\r\n            'pipe_center_5',\r\n        ]);\r\n\r\n        emitter.minParticleSpeed.setTo(-200, -300);\r\n        emitter.maxParticleSpeed.setTo(200, -500);\r\n        emitter.minParticleScale = 0.2;\r\n        emitter.maxParticleScale = 1;\r\n        emitter.gravity = 200;\r\n        emitter.start(false, 20000, 1);\r\n        emitter.width = 300;\r\n\r\n        //  And 2 seconds later we'll destroy the emitter\r\n        this.game.time.events.add(6000, ()=>{\r\n            emitter.destroy();\r\n            emitter.alive = false;\r\n            t.destroy();\r\n            this.game.recordSound.stop();\r\n        }, this);\r\n\r\n        window.emitter = emitter;\r\n    },\r\n\r\n    render(){\r\n        this.game.debug.text(this.game.time.fps || '--', 2, 14, \"#00ff00\");\r\n    }\r\n};\r\n\r\n\r\nexport default playState;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/states/Play.js","var ready = false;\r\nfunction loadComplete(){\r\n    ready = true;\r\n}\r\n\r\nvar Preloader = {\r\n    preload: function(){\r\n\r\n\r\n        this.preloadBar = this.add.sprite(10, 30, 'preloadbar');\r\n        this.preloadBar.anchor.set(0.5);\r\n        this.preloadBar.x = this.world.centerX;\r\n        this.preloadBar.y = this.world.centerY;\r\n        this.load.setPreloadSprite(this.preloadBar);\r\n        this.load.image('logo', 'assets/logo.png');\r\n        this.load.image('back', 'assets/back.jpg');\r\n        this.load.image('box', 'assets/box.png');\r\n        this.load.image('cloud', 'assets/cloud.png');\r\n        this.load.image('ground', 'assets/ground.png');\r\n\r\n        // configs\r\n        this.load.json('physics', 'configs/physicsConfig.json');\r\n        this.load.physics(\"sprite_physics\", \"assets/polygons.json\");\r\n\r\n        this.load.spritesheet(\"bird\", \"assets/bird-sprite.png\", 183, 168.3, 13);\r\n\r\n        this.game.load.image('clouds', 'assets/clouds.png');\r\n        this.game.load.image('mountains-mid1', 'assets/mountains-mid1.png');\r\n        this.game.load.image('mountains-mid2', 'assets/mountains-mid2.png');\r\n\r\n        //pipeCenter\r\n        this.load.image('pipe_center_1', 'assets/pipes/let_centr_1.png');\r\n        this.load.image('pipe_center_2', 'assets/pipes/let_centr_2.png');\r\n        this.load.image('pipe_center_3', 'assets/pipes/let_centr_3.png');\r\n        this.load.image('pipe_center_4', 'assets/pipes/let_centr_4.png');\r\n        this.load.image('pipe_center_5', 'assets/pipes/let_centr_5.png');\r\n\r\n        //pipeUp\r\n        this.load.image('pipe_up_1', 'assets/pipes/let_up_1.png');\r\n        this.load.image('pipe_up_2', 'assets/pipes/let_up_2.png');\r\n        this.load.image('pipe_up_3', 'assets/pipes/let_up_3.png');\r\n        this.load.image('pipe_up_4', 'assets/pipes/let_up_4.png');\r\n        this.load.image('pipe_up_5', 'assets/pipes/let_up_5.png');\r\n\r\n\r\n        //pipeDown\r\n        this.load.image('pipe_down_1', 'assets/pipes/let_down_1.png');\r\n        this.load.image('pipe_down_2', 'assets/pipes/let_down_2.png');\r\n        this.load.image('pipe_down_3', 'assets/pipes/let_down_3.png');\r\n        this.load.image('pipe_down_4', 'assets/pipes/let_down_4.png');\r\n        this.load.image('pipe_down_5', 'assets/pipes/let_down_5.png');\r\n\r\n        this.load.image('partikl', 'assets/pipes/partikl.png');\r\n\r\n\r\n        //quiz\r\n        this.load.image('portal', 'assets/pipes/portal.png');\r\n        this.load.image('portal_gow', 'assets/pipes/portal_gow.png');\r\n\r\n\r\n        //player\r\n        this.load.atlas('player', 'assets/player/player.png', 'assets/player/player.json');\r\n\r\n\r\n        //UI\r\n        this.load.image('calcul', 'assets/ui/calcul.png');\r\n        this.load.image('bar_2', 'assets/ui/bar_2.png');\r\n        this.load.image('bar', 'assets/ui/bar.jpg');\r\n        this.load.image('popup', 'assets/ui/popap.png');\r\n        this.load.image('cubok_pres', 'assets/ui/cubok_pres.png');\r\n        this.load.image('play', 'assets/ui/play_pres.png');\r\n        this.load.image('back_press', 'assets/ui/back_press.png');\r\n        this.load.image('loodscrin', 'assets/ui/loodscrin.png');\r\n\r\n\r\n        //sound\r\n\r\n        this.load.audio('bg', 'assets/sound/bg.mp3');\r\n        this.load.audio('fly', 'assets/sound/fly.mp3');\r\n        this.load.audio('jump', 'assets/sound/jump.wav');\r\n        this.load.audio('record', 'assets/sound/record.mp3');\r\n        this.load.audio('win', 'assets/sound/win.mp3');\r\n        this.load.audio('lose', 'assets/sound/loose.mp3');\r\n\r\n        //user pic\r\n        this.load.image('avatar', 'https://pp.userapi.com/c623823/v623823433/52688/WmkTpKfgNOI.jpg');\r\n\r\n        this.load.onLoadComplete.add(loadComplete, this);\r\n    },\r\n\r\n    create : function(){\r\n\r\n    },\r\n    update : function () {\r\n        if (ready)\r\n        {\r\n            this.state.start('intro');\r\n        }\r\n    }\r\n};\r\n\r\nexport default Preloader;\n\n\n// WEBPACK FOOTER //\n// ./js/states/Preloader.js","class ExpresionGenerator {\r\n    constructor(generator){\r\n        this.rnd = generator;\r\n        this.tick = 1;\r\n        this.max  = {\r\n            1 : 10,\r\n            2 : 10,\r\n            3 : 10,\r\n        }\r\n    }\r\n\r\n    getExp(verify){\r\n\r\n\r\n        this.tick++;\r\n\r\n        let options = [\r\n            'simplePlus'\r\n        ];\r\n\r\n        if (this.tick > 3)\r\n        {\r\n            options.push('simpleMinus');\r\n        }\r\n\r\n        if (this.tick > 10)\r\n        {\r\n            options.push('simpleMmultiply');\r\n        }\r\n\r\n        if (this.tick > 13)\r\n        {\r\n            options.push('simpleDiv');\r\n        }\r\n\r\n        let option = options[this.rnd.between(0, options.length-1)];\r\n\r\n        return this[option](verify);\r\n    }\r\n\r\n    simplePlus(verify){\r\n\r\n        if (this.tick > 3 && verify)\r\n        {\r\n            this.max[1] = this.max[1]+1;\r\n        }\r\n\r\n        let max = this.max[1];\r\n        let first = this.rnd.between(0, max -1 ),\r\n            second = this.rnd.between(0,max - first);\r\n\r\n        if (second == 0 && first == 0)\r\n        {\r\n            second++\r\n        }\r\n\r\n        let result = verify ? first + second : this.rnd.between(1, max);\r\n        if (!verify && result == first + second )\r\n        {\r\n            result++\r\n        }\r\n\r\n        return `${first} + ${second} = ${result}`;\r\n    }\r\n\r\n\r\n    simpleMinus(verify){\r\n\r\n        if (this.tick > 6 && verify)\r\n        {\r\n            this.max[2] = this.max[2]+1;\r\n        }\r\n\r\n        let max = this.max[2];\r\n        let first = this.rnd.between(1, max -1 ),\r\n            second = this.rnd.between(0,max - first);\r\n\r\n        if (second == 0 && first == 0)\r\n        {\r\n            first++\r\n        }\r\n\r\n        if (second > first)\r\n        {\r\n            first = second + 2;\r\n        }\r\n\r\n        let result = verify ? first - second : this.rnd.between(1, max);\r\n        if (!verify && result == first - second )\r\n        {\r\n            result++\r\n        }\r\n\r\n        return `${first} - ${second} = ${result}`;\r\n    }\r\n\r\n\r\n    simpleMmultiply(verify){\r\n        let max = this.max[3];\r\n        let first = this.rnd.between(1, max  ),\r\n            second = this.rnd.between(1,max );\r\n\r\n        let result = verify ? first * second : this.rnd.between(1, max);\r\n        if (!verify && result == first * second )\r\n        {\r\n            result++\r\n        }\r\n        return `${first} x ${second} = ${result}`;\r\n    }\r\n\r\n    simpleDiv(verify){\r\n        let max = this.max[3];\r\n        let first = this.rnd.between(1, max  ),\r\n            second = this.rnd.between(1,max );\r\n\r\n        let result = verify ? first * second : this.rnd.between(1, max);\r\n        if (!verify && result == first * second )\r\n        {\r\n            result++\r\n        }\r\n        return `${result} / ${second} = ${first}`;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport default ExpresionGenerator;\n\n\n// WEBPACK FOOTER //\n// ./js/ExpresionGenerator.js","\r\nclass PipeEmitter {\r\n\r\n    constructor(game){\r\n        this.game = game;\r\n\r\n    }\r\n    spawn(){\r\n        // debugger;\r\n        const worldHeight = this.game.world.height,\r\n            height = 120,//this.game.rnd.between(worldHeight * 0.1,worldHeight * 0.35 ),\r\n            gap = 50,\r\n            x = this.game.world.right,\r\n            verify = !!this.game.rnd.between(0,1);\r\n        this.game.pipeGroup.add(new PipeBox(this.game,x, 1));\r\n        this.game.pipeGroup.add(new QuizCloud(this.game, x, 1,verify));\r\n        this.game.pipeGroup.add(new PipeBox(this.game, x, 2));\r\n        this.game.pipeGroup.add(new QuizCloud(this.game, x, 2,!verify));\r\n        this.game.pipeGroup.add(new PipeBox(this.game, x, 3));\r\n\r\n\r\n        if (this.game.toNextCalacSpawn == 0)\r\n        {\r\n            this.game.pipeGroup.add(new CalcAchive(this.game, x, 3));\r\n            this.game.toNextCalacSpawn = this.game.rnd.between(10, 12);\r\n        } else {\r\n            this.game.toNextCalacSpawn--;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass PipeBox extends Phaser.Sprite{\r\n\r\n    constructor(game, x, align ){\r\n       //align 1-up, 2-center, 3 - bottom\r\n\r\n        const prefixes = {\r\n            1 : \"up\",\r\n            2 : \"center\",\r\n            3 : \"down\",\r\n        };\r\n\r\n        const polygons = {\r\n            1 : \"let_up_1\",\r\n            2 : \"let_centr_1\",\r\n            3 : \"let_down_1\",\r\n        };\r\n\r\n        const rand = game.rnd.between(1,5),\r\n            textureName = `pipe_${prefixes[align]}_${rand}`,\r\n            textureHeight = game.cache.getImage(textureName).height;\r\n\r\n        const positions = {\r\n            1 : 0,\r\n            2 : game.world.centerY - 10,\r\n            3 : game.world.height - textureHeight,\r\n        };\r\n\r\n\r\n        const y = positions[align];\r\n\r\n\r\n        let phys = game.cache.getJSON('physics').pipe,\r\n            CGrroup = game.solidCollisionGroup;\r\n\r\n\r\n        super(game, x,y,textureName);\r\n        this.align = align;\r\n        game.physics.p2.enable(this, false);\r\n        this.body.static = true;\r\n\r\n\r\n        this.body.x += (161 * this.anchor.x);\r\n\r\n        this.body.y += (textureHeight * this.anchor.y);\r\n        this.body.velocity.x = phys.speed * game.worldSpeedPrev;\r\n        this.body.clearShapes();\r\n        this.body.loadPolygon(\"sprite_physics\", polygons[align]);\r\n        this.body.setCollisionGroup(CGrroup);\r\n\r\n        this.body.collides([game.playerCollisionGroup]);\r\n        this.checkWorldBounds = true;\r\n        this.game.gameOver.add(( o ) =>{\r\n            if (!this.alive) return;\r\n\r\n            game.add.tween(this.body.velocity).to( { x: 0 }, 1000, Phaser.Easing.Linear.None, true);\r\n\r\n\r\n        });\r\n\r\n          this.events.onOutOfBounds.add(this.dead, this);\r\n\r\n    }\r\n    \r\n    dead(d)\r\n    {\r\n        if (d.body.x > 0)\r\n        {\r\n            return\r\n        }\r\n        this.kill();\r\n        this.destroy();\r\n    }\r\n}\r\n\r\n\r\nclass QuizCloud extends Phaser.Sprite{\r\n    constructor(game, x ,align,verify){\r\n\r\n        x += 67;\r\n        const positions = {\r\n            1 : 90,\r\n            2 : 320,\r\n        };\r\n        const y = positions[align];\r\n        super(game, x, y, 'portal');\r\n        // this.game.physics.p2.enable(this, true);\r\n        // this.body.static = true;\r\n\r\n        this.type = \"quiz\";\r\n        this.verify = verify;\r\n        this.colledted = false;\r\n\r\n        if (this.game.calcActive > 0 && this.verify)\r\n        {\r\n            this.game.calcActive--;\r\n            this.highlited = true;\r\n        }\r\n\r\n        let phys = this.game.cache.getJSON('physics').pipe;\r\n        let CGrroup = game.quizCollisionGroup;\r\n        let text = game.expresionGenerator.getExp(verify);\r\n        let textEl = new Phaser.Text(game, 30,0, text ,{fill : \"#fff\", stroke : \"#f44242\", strokeThickness : 4});\r\n\r\n        game.physics.p2.enable(this, false);\r\n        // this.body.static = true;\r\n        this.body.immovable = true;\r\n        this.body.kinematic = true;\r\n        this.body.mass = 0;\r\n        this.body.x += (this.width * this.anchor.x);\r\n        this.body.y += (this.height * this.anchor.y);\r\n        this.body.velocity.x = phys.speed * game.worldSpeedPrev;\r\n        this.body.setCollisionGroup(CGrroup);\r\n        this.body.collides([game.playerCollisionGroup]);\r\n        this.checkWorldBounds = true;\r\n        this.game.gameOver.add((o )=>{\r\n            if (!this.alive) return;\r\n\r\n            game.add.tween(this.body.velocity).to( { x: 0 }, 1000, Phaser.Easing.Linear.None, true);\r\n\r\n        });\r\n\r\n        this.events.onOutOfBounds.add(this.dead, this);\r\n        this.addChild(textEl);\r\n        this.textEl = textEl;\r\n        let g = new Phaser.Sprite(game,-175,-86,\"portal_gow\");\r\n        g.alpha = 0.5;\r\n        this.addChildAt(g, 0);\r\n\r\n        this.glowSprite = g;\r\n\r\n        if (this.highlited)\r\n        {\r\n            let t = game.add.tween(this).to( { alpha: 0.3 }, 500, \"Linear\", true, 0, -1);\r\n            t.yoyo(true, 0);\r\n\r\n            t = game.add.tween(this.glowSprite).to( { alpha: 0.3 }, 500, \"Linear\", true, 0, -1);\r\n            t.yoyo(true, 0)\r\n        }\r\n        var emitter = this.game.add.emitter(x, y + 100, 100);\r\n         emitter.makeParticles(['partikl']);\r\n\r\n\r\n\r\n        emitter.height = 200;\r\n        emitter.minParticleSpeed.setTo(-300, 0);\r\n        emitter.maxParticleSpeed.setTo(-400, 0);\r\n        emitter.minParticleScale = 0.5;\r\n        emitter.maxParticleScale = 1;\r\n        emitter.setAlpha(0.5, 1);\r\n        this.emitter = emitter;\r\n        emitter.flow(500, 500, 5, -1);\r\n    }\r\n\r\n    collected(){\r\n        this.colledted = true;\r\n        // debugger;\r\n        if (!this.highlited)\r\n        {\r\n            var t = game.add.tween(this.glowSprite).to( { alpha: 1 }, 200, \"Linear\", true, 0, -1);\r\n            t.yoyo(true, 0);\r\n        }\r\n\r\n        this.game.add.tween(this.textEl).to( { y : -500 }, 1000, Phaser.Easing.Linear.None, true);\r\n\r\n        // this.glowSprite.alpha = 1;\r\n    }\r\n\r\n    update(d){\r\n        this.emitter.x = this.x;\r\n        if (this.highlited)\r\n        {\r\n            this.tint = 0xf44242;\r\n            this.glowSprite.tint = 0xf44242;\r\n        }\r\n\r\n    }\r\n    dead(d)\r\n    {\r\n        if (d.body.x > 0)\r\n        {\r\n            return\r\n        }\r\n\r\n        this.emitter.destroy();\r\n        this.kill();\r\n        this.destroy();\r\n    }\r\n}\r\n\r\n\r\n\r\nclass CalcAchive extends Phaser.Sprite{\r\n    constructor(game, x ){\r\n        super(game, x + game.rnd.between(200, 350), game.rnd.between(150, game.height - 150) , 'calcul');\r\n\r\n        let phys = this.game.cache.getJSON('physics').pipe;\r\n\r\n        let CGrroup =  this.game.achivementllisionGroup;\r\n        game.physics.p2.enable(this, false);\r\n\r\n        this.type = 'calc';\r\n        this.body.immovable = true;\r\n        this.body.kinematic = true;\r\n        this.body.mass = 0;\r\n        this.body.x += (this.width * this.anchor.x);\r\n        this.body.y += (this.height * this.anchor.y);\r\n        this.body.velocity.x = phys.speed * game.worldSpeedPrev;\r\n        this.body.setCollisionGroup(CGrroup);\r\n        this.body.collides([game.playerCollisionGroup]);\r\n        this.game.gameOver.add((o )=>{\r\n            if (!this.alive) return;\r\n            game.add.tween(this.body.velocity).to( { x: 0 }, 1000, Phaser.Easing.Linear.None, true);\r\n        });\r\n\r\n        this.events.onOutOfBounds.add(this.dead, this);\r\n\r\n    }\r\n\r\n    update(d){\r\n        if (this.highlited)\r\n        {\r\n            this.tint = 0xf44242;\r\n            this.glowSprite.tint = 0xf44242;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    dead(d){\r\n        if (d.body.x > 0)\r\n        {\r\n            return\r\n        }\r\n\r\n        this.emitter.destroy();\r\n        this.kill();\r\n        this.destroy();\r\n    }\r\n}\r\n\r\n\r\nexport default PipeEmitter;\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/PipeEmitter.js","\r\nclass Player extends Phaser.Sprite{\r\n    constructor(game,x,y,cGroup){\r\n\r\n        super(game, x, y,'player');\r\n        let phys = this.game.cache.getJSON('physics').player;\r\n        this.speed = phys.startSped || 300;\r\n        this.acceleration = phys.acceleration || 2;\r\n        this.accelerationTotalTime = phys.accelerationTotalTime || 100;\r\n\r\n        // this.frameName = \"mob_1.png\";\r\n        // this.scale.setTo(0.5);\r\n\r\n        //  Enable if for physics. This creates a default rectangular body.\r\n        this.scale.set(0.75);\r\n        this.game.physics.p2.enable(this, false);\r\n        this.body.fixedRotation = true;\r\n        this.body.setCircle(40 * 0.74, 0,-20 * 0.75);\r\n        this.body.setCollisionGroup(cGroup);\r\n        this.game.add.existing(this);\r\n\r\n        this.game.gameOver.add(( o )=>{\r\n            this.dead(!!o.wrong);\r\n\r\n        });\r\n\r\n        this.body.allowSleep = true;\r\n        this.cGroup = cGroup;\r\n\r\n        this.game.input.onDown.add(()=>{\r\n            if (this.alive)\r\n            {\r\n                this.game.jumpSound.play()\r\n            }\r\n\r\n\r\n        });\r\n    }\r\n\r\n    moveUp(speed = this.speed){\r\n        this.body.moveUp(speed);\r\n    }\r\n\r\n    update(){\r\n        if (!this.alive) return;\r\n\r\n        this.frameName = \"mob_1.png\";\r\n        const d = this.game.input.activePointer.duration;\r\n\r\n        if (this.rotation > 0) {\r\n            this.rotation = 0;\r\n        }\r\n\r\n        if (this.rotation<0)\r\n        {\r\n            this.rotation += 0.05;\r\n        }\r\n\r\n        if (this.game.input.activePointer.isDown && d<=this.accelerationTotalTime)\r\n        {\r\n            this.frameName = \"mob_2.png\";\r\n            this.moveUp(this.speed + (d * this.acceleration));\r\n            if (this.rotation < -0.261799)\r\n            {\r\n                this.rotation -= 0.05;\r\n            } else\r\n            {\r\n                this.rotation = -0.26179;\r\n            }\r\n            this.game.physics.p2.world.sleepMode = 2;// this.game.physics.p2.world.BODY_SLEEPING\r\n        }\r\n\r\n        this.body.immovable = true;\r\n\r\n    }\r\n\r\n\r\n    dead(wrong){\r\n        if (this.alive)\r\n        {\r\n            this.game.loseSound.play();\r\n            this.rotation = -1.5708;\r\n            if (wrong)\r\n            {\r\n                this.body.fixedRotation = false;\r\n                this.frameName = `vegetable_${this.game.rnd.between(1,9)}.png`;\r\n                this.body.clearShapes();\r\n                this.body.setCircle(30 * 0.75, 0,0);\r\n                this.body.setCollisionGroup(this.cGroup);\r\n            }\r\n        }\r\n\r\n        this.alive = false;\r\n\r\n    }\r\n}\r\n\r\nexport default Player;\n\n\n// WEBPACK FOOTER //\n// ./js/Player.js","import bootState from './states/Boot'\r\nimport Preloader from './states/Preloader'\r\nimport introState from './states/Intro'\r\nimport leadesState from './states/Leaders'\r\nimport playState from './states/Play'\r\nimport menuState from './states/Menu'\r\n\r\nimport Api from './api/api';\r\nvar game;\r\nwindow.addEventListener(\"load\", function () {\r\n\r\n    var userName = getJsonFromUrl().user || 'test11';\r\n    game = new Phaser.Game(1024, 576, Phaser.CANVAS, '', {}, true);\r\n    game.scoreAPI = new Api();\r\n    game.userName = userName;\r\n    game.state.add(\"boot\", bootState);\r\n    game.state.add(\"preloader\", Preloader);\r\n    game.state.add(\"intro\", introState);\r\n    game.state.add(\"play\",playState );\r\n    game.state.add(\"leaders\",leadesState );\r\n    game.state.add(\"menu\",menuState );\r\n\r\n    game.bestScore = 0;\r\n\r\n    game.state.start(\"boot\");\r\n});\r\n\r\nfunction getJsonFromUrl() {\r\n    var query = location.search.substr(1);\r\n    var result = {};\r\n    query.split(\"&\").forEach(function(part) {\r\n        var item = part.split(\"=\");\r\n        result[item[0]] = decodeURIComponent(item[1]);\r\n    });\r\n    return result;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/app.js","class ProgressBar extends Phaser.Group {\r\n    constructor(game){\r\n        super(game)\r\n        this.bg = this.add(game.make.sprite(0,0,'bar_2'));\r\n        let w = this.game.cache.getImage('bar').width;\r\n        let h = this.game.cache.getImage('bar').height;\r\n        this.bar = this.add(game.make.tileSprite(40,22,w ,h,'bar'));\r\n\r\n        this.bar_length = w;\r\n\r\n        this.value = 50;\r\n        this.setValue(this.value);\r\n        this.started = false;\r\n    }\r\n\r\n    setValue(val)\r\n    {\r\n        if (val < 0)\r\n        {\r\n            val = 0;\r\n        }\r\n\r\n        if (val>100)\r\n        {\r\n            val = 100;\r\n        }\r\n\r\n        this.value = val;\r\n\r\n        var w = val * this.bar_length / 100;\r\n        if (w == 0)\r\n        {\r\n            w = 0.1;\r\n        }\r\n\r\n        this.bar.width = w;\r\n    }\r\n\r\n    update(){\r\n        if (!this.started) return;\r\n        if (this.game.slomoActive)\r\n        {\r\n            this.setValue(this.value - 0.4)\r\n        } else if (!this.game.isGameOver)\r\n        {\r\n            this.setValue(this.value + 0.08)\r\n        }\r\n    }\r\n\r\n    start()\r\n    {\r\n        this.started = true;\r\n    }\r\n}\r\n\r\n\r\nexport default ProgressBar;\n\n\n// WEBPACK FOOTER //\n// ./js/ui/ProgressBar.js"],"sourceRoot":""}